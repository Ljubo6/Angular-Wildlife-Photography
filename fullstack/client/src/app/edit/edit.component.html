<section id="edit-page">
  <div *ngIf="success" class="success-container">

    <p>{{success}}</p>

  </div>
  <div *ngIf="error" class="error-container">

    <p>{{error}}</p>

  </div>
  <div class="img">
    <img
      class="responsive-img h200"
      [src]="imagePreview"
      *ngIf="imagePreview"
    >
  </div>
  <div class="editSection">
    <div class="info">
      <h2>Edit your own post!</h2>
    </div>

    <form action="#" method="" class="createForm" [formGroup]="form" (ngSubmit)="onSumbit()">
      <h2>Edit Post</h2>
      <ul class="noBullet">
        <li>
          <label for="title">Title:</label>
          <input
            formControlName="title"
            type="text"
            class="inputFields"
            id="title"
            placeholder="Two golden snub-nosed monkeys"
            name=""
            value=""
            [ngClass]="{'invalid' : form.get('title')?.invalid && form.get('title')?.touched}"
          />
          <p
            class="red"
            *ngIf="form.get('title')?.invalid && form.get('title')?.touched"
          >
            <span class="red" *ngIf="form.get('title')?.errors?.['required']">Field can not be empty!</span>
            <span class="red" *ngIf="form.get('title')?.errors?.['minlength'] &&
        form.get('title')?.errors?.['minlength']['requiredLength']">
          Title must be more {{form.get('title')?.errors?.['minlength']['requiredLength']}} letters!
          Now {{form.get('title')?.errors?.['minlength']['actualLength']}}
        </span>
          </p>
        </li>
        <li>
          <label for="key-word">Keyword:</label>
          <input
            formControlName="keyword"
            type="text"
            class="inputFields"
            id="keyword"
            placeholder="Animal"
            name=""
            value=""
            [ngClass]="{'invalid' : form.get('keyword')?.invalid && form.get('keyword')?.touched}"
          />
          <p
            class="red"
            *ngIf="form.get('keyword')?.invalid && form.get('keyword')?.touched"
          >
            <span class="red" *ngIf="form.get('keyword')?.errors?.['required']">Field can not be empty!</span>
            <span class="red" *ngIf="form.get('keyword')?.errors?.['minlength'] &&
        form.get('keyword')?.errors?.['minlength']['requiredLength']">
          Keyword must be more {{form.get('keyword')?.errors?.['minlength']['requiredLength']}} letters!
          Now {{form.get('keyword')?.errors?.['minlength']['actualLength']}}
        </span>
          </p>
        </li>
        <li>
          <label for="location">Location:</label>
          <input
            formControlName="location"
            type="text"
            class="inputFields"
            id="location"
            placeholder="North America"
            name=""
            value=""
            [ngClass]="{'invalid' : form.get('location')?.invalid && form.get('location')?.touched}"
          />
          <p
            class="red"
            *ngIf="form.get('location')?.invalid && form.get('location')?.touched"
          >
            <span class="red" *ngIf="form.get('location')?.errors?.['required']">Field can not be empty!</span>
            <span class="red" *ngIf="form.get('location')?.errors?.['maxlength'] &&
        form.get('location')?.errors?.['maxlength']['requiredLength']">
          Keyword must be max {{form.get('location')?.errors?.['maxlength']['requiredLength']}} letters!
          Now {{form.get('location')?.errors?.['maxlength']['actualLength']}}
        </span>
          </p>
        </li>
        <li>
          <label for="date">Date of creation:</label>
          <input
            formControlName="date"
            type="text"
            class="inputFields"
            id="date"
            placeholder="18.02.2021"
            name=""
            value=""
            [ngClass]="{'invalid' : form.get('date')?.invalid && form.get('date')?.touched}"
          />
          <p
            class="red"
            *ngIf="form.get('date')?.invalid && form.get('date')?.touched"
          >
            <span class="red" *ngIf="form.get('date')?.errors?.['required']">Field can not be empty!</span>
            <span class="red" *ngIf="form.get('date')?.errors?.['minlength'] &&
        form.get('date')?.errors?.['minlength']['requiredLength']">
          Date must be exactly {{form.get('date')?.errors?.['minlength']['requiredLength']}} symbols!
          Now {{form.get('date')?.errors?.['minlength']['actualLength']}}
        </span>
            <span class="red" *ngIf="form.get('date')?.errors?.['maxlength'] &&
        form.get('date')?.errors?.['maxlength']['requiredLength']">
          Date must be exactly {{form.get('date')?.errors?.['maxlength']['requiredLength']}} symbols!
          Now {{form.get('date')?.errors?.['maxlength']['actualLength']}}
        </span>
          </p>
        </li>
        <li>
          <label for="image">Wildlife image:</label>
                    <input
                      formControlName="imageUrl"
                      type="text"
                      class="inputFields"
                      id="image"
                      placeholder="http:/..."
                      (change)="onFileUpload($event)"
                      name=""
                      value=""
                      [ngClass]="{'invalid' : form.get('imageUrl')?.invalid && form.get('imageUrl')?.touched}"
                    />
          <p
            class="red"
            *ngIf="url['imageUrl']?.invalid && url['imageUrl']?.touched"
          >
            <span
              class="red" *ngIf="url['imageUrl']?.errors?.['required']"
            >URL is required</span>
            <span
              class="red" *ngIf="url['imageUrl']?.errors?.['pattern']"
            >URL have to start with http or https</span>

          </p>
        </li>
        <li>
          <label for="description">Description:</label>
          <textarea
            formControlName="description"
            id="description"
            class="inputFields"
            name=""
            placeholder="Monkey is..."
            [ngClass]="{'invalid' : form.get('description')?.invalid && form.get('description')?.touched}"
          >

          </textarea>
          <p
            class="red"
            *ngIf="form.get('description')?.invalid && form.get('description')?.touched"
          >
            <span class="red" *ngIf="form.get('description')?.errors?.['required']">Field can not be empty!</span>
            <span class="red" *ngIf="form.get('description')?.errors?.['minlength'] &&
        form.get('description')?.errors?.['minlength']['requiredLength']">
          Description must be more {{form.get('description')?.errors?.['minlength']['requiredLength']}} letters!
          Now {{form.get('description')?.errors?.['minlength']['actualLength']}}
        </span>
          </p>
        </li>
        <li id="center-btn">
          <button
            id="create-btn"
            class="btn-create"
            type="submit"
            [disabled]="form.invalid || form.disabled"
          >Edit</button>
        </li>
      </ul>
    </form>

  </div>
</section>

